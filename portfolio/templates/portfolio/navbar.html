{% load static %}
<nav class="flex items-center justify-between h-20 font-semibold px-6 md:px-32 shadow-xl">
    <!-- Logo -->
    <a href="/" class="text-xl md:text-xl transition-all duration-300 ease-in-out"><h2 class="font-bold">BIKI</h2></a>

    <!-- Menu Items (Desktop) -->
    <ul class="hidden items-center gap-8 md:flex font-sans">
        {% comment %} <a href="#" class="hover:text-slate-300 transition-all duration-300 ease-in-out"><li>home</li></a> {% endcomment %}
        <a href="{% url 'about' %}" class="hover:text-slate-400 transition-all duration-300 ease-in-out"><li>about</li></a>
        <a href="{% url 'project' %}" class="hover:text-slate-400 transition-all duration-300 ease-in-out"><li>projects</li></a>
        {% comment %} <a href="#" class="hover:text-slate-400 transition-all duration-300 ease-in-out"><li>services</li></a> {% endcomment %}
        <a href="#" class="hover:text-slate-400 transition-all duration-300 ease-in-out"><li>blog</li></a>
        <a href="{% url 'contact' %}" class="hover:text-slate-400 transition-all duration-300 ease-in-out"><li>contact</li></a>
        <li><i class='bx bx-sun cursor-pointer text-xl' id="desktop-theme-toggle"></i></li>

    </ul>

    <!-- Hamburger Icon (Mobile) -->
    <div class="md:hidden">
        <button id="menu-toggle" class="text-2xl">
            <i class='bx bx-menu font-bold hover:text-slate-300 transition-all duration-300 ease-in-out'></i>
        </button>
        <i class='bx bx-sun font-bold cursor-pointer text-2xl ml-4' id="mobile-theme-toggle"></i>

    </div>
</nav>

<!-- Mobile Menu (Overlay with Close Button) -->
<div id="mobile-menu" class="hidden fixed inset-0 bg-opacity-5 flex flex-col items-start justify-start px-3 space-y-6 z-20 border border-slate-600 rounded-lg backdrop-blur-lg mx-3 my-7">
    <!-- Close Button -->
    <button id="close-menu" class="absolute -top-7 -right-1 text-3xl">
        <i class='bx bx-x'></i>
    </button>

    <!-- Menu Links -->
    <ul class="flex flex-col items-start space-y-4">
        <li><a href="/" class="font-semibold text-lg hover:border-b-2 hover:border-green-500 pb-1 hover:text-slate-400 transition-all duration-300 ease-in-out">Home</a></li>
        <li><a href="{% url 'about' %}" class="font-semibold text-lg hover:border-b-2 hover:border-green-500 pb-1 hover:text-slate-400 transition-all duration-300 ease-in-out">About</a></li>
        <li><a href="{% url 'project' %}" class="font-semibold text-lg hover:border-b-2 hover:border-green-500 pb-1 hover:text-slate-400 transition-all duration-300 ease-in-out">Projects</a></li>
        {% comment %} <li><a href="#" class="font-semibold text-lg hover:border-b-2 hover:border-green-500 pb-1 hover:text-slate-400 transition-all duration-300 ease-in-out">Services</a></li> {% endcomment %}
        <li><a href="#" class="font-semibold text-lg hover:border-b-2 border-green-500 pb-1 hover:text-slate-400 transition-all duration-300 ease-in-out">Blog</a></li>
        <li><a href="{% url 'contact' %}" class="font-semibold text-lg hover:border-b-2 border-green-500 pb-1 hover:text-slate-400 transition-all duration-300 ease-in-out">Contact</a></li>
        
    </ul>
</div>

<script>
    // Toggle mobile menu visibility
    const menuToggle = document.getElementById('menu-toggle');
    const closeMenu = document.getElementById('close-menu');
    const mobileMenu = document.getElementById('mobile-menu');

    menuToggle.addEventListener('click', () => {
        mobileMenu.classList.remove('hidden');
    });

    closeMenu.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
    });


  // Check for saved theme in localStorage and apply it
  const currentTheme = localStorage.getItem('theme');

  if (currentTheme) {
      document.body.classList.add(currentTheme);
      // Change the icon based on the saved theme
      if (currentTheme === 'dark') {
          document.getElementById('desktop-theme-toggle').classList.replace('bx-sun', 'bxs-sun');
          document.getElementById('mobile-theme-toggle').classList.replace('bx-sun', 'bxs-sun');
      }
  }

  // Toggle theme and change icon (Desktop)
  const desktopThemeToggle = document.getElementById('desktop-theme-toggle');
  desktopThemeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      if (document.body.classList.contains('dark')) {
          localStorage.setItem('theme', 'dark');
          desktopThemeToggle.classList.replace('bx-sun', 'bxs-sun');
          document.getElementById('mobile-theme-toggle').classList.replace('bx-sun', 'bxs-sun');
      } else {
          localStorage.setItem('theme', 'light');
          desktopThemeToggle.classList.replace('bxs-sun', 'bx-sun');
          document.getElementById('mobile-theme-toggle').classList.replace('bxs-sun', 'bx-sun');
      }
  });

  // Toggle theme and change icon (Mobile)
  const mobileThemeToggle = document.getElementById('mobile-theme-toggle');
  mobileThemeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      if (document.body.classList.contains('dark')) {
          localStorage.setItem('theme', 'dark');
          mobileThemeToggle.classList.replace('bx-sun', 'bxs-sun');
          document.getElementById('desktop-theme-toggle').classList.replace('bx-sun', 'bxs-sun');
      } else {
          localStorage.setItem('theme', 'light');
          mobileThemeToggle.classList.replace('bxs-sun', 'bx-sun');
          document.getElementById('desktop-theme-toggle').classList.replace('bxs-sun', 'bx-sun');
      }
  });


</script>